(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{256:function(e,t,a){"use strict";var n=a(267),l=a.n(n).a.create({baseURL:"http://localhost:3008/",timeout:1e4,withCredentials:!0});t.a=l},293:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",function(){return n})},538:function(e,t,a){"use strict";a.r(t);var n,l=a(293),r=a(85),i=a(86),s=a(88),c=a(87),o=a(89),m=a(90),g=a(0),u=a.n(g),h=a(250),d=a(285),p=a(249),E=a(251),b=a(253),v=a(252),f=a(525),y=a(521),N=a(522),k=a(299),C=a(300),P=a(269),_=a(248),w=a(290),O=a(286),j=a(287),I=a(288),T=a(256),S=a(278),F=a.n(S),x=a(240),A=a.n(x),M=function(e){function t(e,a){var i,o;return Object(r.a)(this,t),(o=Object(s.a)(this,Object(c.a)(t).call(this,e))).tagsSelectChange=function(e){n.setState({tags:e})},o.onChangeHandler=function(e){o.setState({selectedFile:e.target.files[0],loaded:0})},o.toggle=o.toggle.bind(Object(m.a)(Object(m.a)(o))),o.toggleFade=o.toggleFade.bind(Object(m.a)(Object(m.a)(o))),o.toggle=o.toggle.bind(Object(m.a)(Object(m.a)(o))),o.togglePrimary=o.togglePrimary.bind(Object(m.a)(Object(m.a)(o))),o.state=(i={collapse:!0,fadeIn:!0,timeout:300,primary:!1,modal:!1,activeTab:"1",name:"",description:"",tags:[],alltags:[],author:"",selectedFile:null,gallerys:[],imageNumber:"",imagePath:"",price:"",_id:""},Object(l.a)(i,"tags",""),Object(l.a)(i,"title_seo",""),Object(l.a)(i,"description_seo",""),Object(l.a)(i,"keyword_seo",""),i),n=Object(m.a)(Object(m.a)(o)),o}return Object(o.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(e){n.setState({collapse:!n.state.collapse}),this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"toggleFade",value:function(){n.setState(function(e){return{fadeIn:!e}})}},{key:"togglePrimary",value:function(){this.showAllImage(),this.setState({primary:!this.state.primary})}},{key:"changePrice",value:function(e){n.setState({price:e.target.value})}},{key:"changeName",value:function(e){n.setState({name:e.target.value})}},{key:"changeDescription",value:function(e){n.setState({description:e.target.value})}},{key:"componentDidMount",value:function(){this.getItemPost(),T.a.get("/api/product/getAllTags").then(function(e){n.setState({alltags:e.data})}),this.getAllImage()}},{key:"getItemPost",value:function(){n.setState({_id:n.props.match.params.id}),T.a.get("/api/product/show/"+n.props.match.params.id).then(function(e){var t=e.data.tags.map(function(e,t){return{value:e._id,label:e.label}});n.setState({_id:e.data._id,name:e.data.name,description:e.data.description,price:e.data.price,imageNumber:e.data.imageNumber,imagePath:e.data.imagePath,tags:t})})}},{key:"savePost",value:function(){var e={_id:n.state._id,name:n.state.name,price:n.state.price,imageNumber:n.state.imageNumber,imagePath:n.state.imagePath,description:n.state.description,tags:n.state.tags};T.a.post("/api/product/saveProductAndTagAsync",e).then(function(e){n.props.history.push("/product/index")})}},{key:"getAllImage",value:function(){T.a.get("/api/gallery/getAll").then(function(e){n.setState({gallerys:e.data})})}},{key:"getIdImage",value:function(e){T.a.get("/api/gallery/show/"+e).then(function(e){n.setState({imageNumber:e.data._id,imagePath:e.data.path})})}},{key:"imageNumbers",value:function(){return""!=n.state.imageNumber?u.a.createElement("input",{name:"imageNumber",className:"hidden",value:n.state.imageNumber}):""}},{key:"imagePath",value:function(){return""!=n.state.imagePath?u.a.createElement("img",{src:"http://localhost:3008/"+n.state.imagePath}):""}},{key:"showAllImage",value:function(){return n.state.gallerys.map(function(e,t){return u.a.createElement(h.a,{xs:"6",sm:"3",className:"text-center flol"},u.a.createElement("div",{color:"divItemImage warning"},u.a.createElement("img",{className:"img100",src:"http://localhost:3008"+e.path,"data-path":e.path,"data-id":e._id,onClick:function(t){return n.getIdImage(e._id)}})),u.a.createElement("div",{className:"clearfix"}),u.a.createElement(d.a,null,e.name))})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(p.a,null,u.a.createElement(h.a,{xs:"12",sm:"12"},u.a.createElement(E.a,null,u.a.createElement(b.a,null,u.a.createElement("strong",null,"S\u1eeda s\u1ea3n ph\u1ea9m"),u.a.createElement("button",{onClick:this.savePost,className:"btn btn-sm btn-primary flor"},"C\u1eadp nh\u1eadt")),u.a.createElement(v.a,null,u.a.createElement(f.a,{tabs:!0},u.a.createElement(y.a,null,u.a.createElement(N.a,{className:A()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")}},"Chung")),u.a.createElement(y.a,null,u.a.createElement(N.a,{className:A()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")}},"Thu\u1ed9c t\xednh"))),u.a.createElement(k.a,{activeTab:this.state.activeTab},u.a.createElement(C.a,{tabId:"1"},u.a.createElement(p.a,null,u.a.createElement(h.a,{sm:"12"},u.a.createElement("div",{className:"form-group"},u.a.createElement(d.a,{htmlFor:"name"},u.a.createElement("strong",null,"T\xean s\u1ea3n ph\u1ea9m")),u.a.createElement(P.a,{type:"text",value:n.state.name,onChange:this.changeName,id:"name",placeholder:"T\xean s\u1ea3n ph\u1ea9m",required:!0})),u.a.createElement("div",{className:"form-group"},u.a.createElement(d.a,{htmlFor:"description"},u.a.createElement("strong",null,"M\xf4 t\u1ea3")),u.a.createElement(P.a,{type:"textarea",value:this.state.description,onChange:this.changeDescription,name:"description",id:"description",placeholder:"M\xf4 t\u1ea3",rows:"3"})),u.a.createElement("hr",null),u.a.createElement("div",{className:"form-group"},u.a.createElement(d.a,{htmlFor:"title_seo"},u.a.createElement("strong",null,"Ti\xeau \u0111\u1ec1 seo")),u.a.createElement(P.a,{type:"text",value:this.state.title_seo,onChange:this.changeName,id:"title_seo",placeholder:"Ti\xeau \u0111\u1ec1 seo"})),u.a.createElement("div",{className:"form-group"},u.a.createElement(d.a,{htmlFor:"description_seo"},u.a.createElement("strong",null,"M\xf4 t\u1ea3 seo")),u.a.createElement(P.a,{type:"textarea",value:this.state.description_seo,onChange:this.changeDescription,name:"description_seo",id:"description_seo",placeholder:"M\xf4 t\u1ea3 seo",rows:"3"})),u.a.createElement("div",{className:"form-group"},u.a.createElement(d.a,{htmlFor:"description_seo"},u.a.createElement("strong",null,"T\u1eeb kh\xf3a seo")),u.a.createElement(P.a,{type:"textarea",value:this.state.keyword_seo,onChange:this.changeDescription,name:"keyword_seo",id:"keyword_seo",placeholder:"T\u1eeb kh\xf3a seo",rows:"3"})),u.a.createElement("div",{className:"form-group"},u.a.createElement(d.a,{htmlFor:"description"},u.a.createElement("strong",null,"Tags s\u1ea3n ph\u1ea9m")),u.a.createElement(F.a,{isClearable:!0,onChange:this.tagsSelectChange,options:this.state.alltags,isMulti:!0}))))),u.a.createElement(C.a,{tabId:"2"},u.a.createElement(p.a,null,u.a.createElement(h.a,{sm:"12"},u.a.createElement("div",{className:"form-group"},u.a.createElement(d.a,{htmlFor:"price"},u.a.createElement("strong",null,"Gi\xe1 s\u1ea3n ph\u1ea9m")),u.a.createElement(P.a,{type:"number",value:this.state.price,onChange:this.changePrice,id:"price",placeholder:"Gi\xe1 s\u1ea3n ph\u1ea9m"})),u.a.createElement("div",{className:"form-group"},u.a.createElement(d.a,{htmlFor:"image"},u.a.createElement("strong",null,"\u1ea2nh \u0111\u1ea1i di\u1ec7n")),u.a.createElement("div",null,u.a.createElement(_.a,{color:"primary",onClick:this.togglePrimary,className:"mr-1"},"Ch\u1ecdn \u1ea3nh"),u.a.createElement("div",{className:"showImage"},this.imagePath(),this.imageNumbers()))))))))))),u.a.createElement(w.a,{isOpen:this.state.primary,toggle:this.togglePrimary,className:"modal-primary modal-lg "+this.props.className},u.a.createElement(O.a,{toggle:this.togglePrimary},u.a.createElement("button",{className:"buttonUploadImage"},"T\u1ea3i \u1ea3nh",u.a.createElement("input",{type:"file",name:"file",onChange:this.onChangeHandler}))),u.a.createElement(j.a,null,this.showAllImage()),u.a.createElement(I.a,null,u.a.createElement(_.a,{color:"primary",onClick:this.togglePrimary},"C\u1eadp nh\u1eadt"),u.a.createElement(_.a,{color:"secondary",onClick:this.togglePrimary},"B\u1ecf qua"))))}}]),t}(g.Component);t.default=M}}]);
//# sourceMappingURL=58.1b4d7ae4.chunk.js.map