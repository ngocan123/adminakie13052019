{"version":3,"sources":["config/axioConfig.js","views/CatProduct/Index.js"],"names":["axios__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","axioApi","n","axios","create","baseURL","timeout","withCredentials","$this","Index","props","_this","Object","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","state","posts","author","page","current","pages","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","getDats","_this2","filter","keyword","get","qs","stringify","then","res","setState","data","showPaginate","console","log","id","post","_id","map","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","className","alt","imagePath","src","name","description","email","react_router_dom__WEBPACK_IMPORTED_MODULE_18__","to","aria-hidden","onClick","deletePost","e","target","value","setTimeout","obj","index","push","p","reactstrap__WEBPACK_IMPORTED_MODULE_8__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","activePagination","tag","data-id","parseInt","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","reactstrap__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","type","onBlur","changeKeyword","placeholder","reactstrap__WEBPACK_IMPORTED_MODULE_14__","reactstrap__WEBPACK_IMPORTED_MODULE_15__","hover","bordered","striped","responsive","size","tabRows","reactstrap__WEBPACK_IMPORTED_MODULE_16__","Component"],"mappings":"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","file":"static/js/58.b1903089.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst axioApi = axios.create({  \r\n        baseURL: 'http://localhost:3008/api/',\r\n        //baseURL: 'https://mern-stack-course.herokuapp.com/api/',  // let our base uri is server uri\r\n        //baseURL: 'https://jsonplaceholder.typicode.com/',\r\n        timeout: 10000,\r\n        withCredentials: true,\r\n        //transformRequest: [(data) => JSON.stringify(data.data)],\r\n        // headers: {\r\n        // \t'Accept': 'application/json',\r\n        // \t'Content-Type': 'application/json',\r\n        // }\r\n});\r\nexport default axioApi","import React, { Component } from 'react'\r\nimport { Card, CardBody, CardHeader, Col, Pagination, PaginationItem, PaginationLink, Row, Table } from 'reactstrap'\r\nimport axioApi from './../../config/axioConfig'\r\nimport { Link } from 'react-router-dom'\r\nimport qs from 'qs'\r\n\r\nlet $this;\r\nclass Index extends Component {\r\n    constructor(props){\r\n\t\t  super(props);\r\n      this.state = {'posts' : [], author : '', 'page': 1, 'current': 1, 'pages': 1,}\r\n      $this = this; \r\n    }\r\n    componentDidMount(){\r\n      this.getDats();\r\n    }\r\n    \r\n    getDats(){\r\n        const filter = {\r\n          keyword: $this.state.keyword,\r\n          page: $this.state.page\r\n        };\r\n        axioApi.get('catproduct/list?'+qs.stringify(filter)).then((res) => {\r\n          //console.log(res.data)\r\n          $this.setState({\r\n            posts: res.data.posts,\r\n            current: res.data.current,\r\n            pages: res.data.pages,\r\n          })\r\n          this.showPaginate();\r\n          console.log($this.state.pages);\r\n        });\r\n    }\r\n    deletePost(id){\r\n        axioApi.post('/catproduct/remove', {_id : id}).then((res) => {\r\n            $this.getDats()\r\n        });\r\n    }\r\n    tabRows(){\r\n      return $this.state.posts.map(function(post){\r\n          return <tr>\r\n          <td className=\"text-center wtd100\"><img alt={post.imagePath} className=\"w8\" src={'https://ai-shop2.herokuapp.com'+ post.imagePath}/></td>\r\n          <td>{post.name}</td>\r\n          <td>{post.description}</td>\r\n          <td>{(post.author)? post.author.email : ''}</td>\r\n          <td className=\"text-center\">\r\n              <Link to={\"/catproduct/edit/\"+post._id}>\r\n                  <button className=\"btn btn-sm btn-warning mar-3\"><i className=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i> Sửa</button>\r\n              </Link>\r\n              <button className=\"btn btn-sm btn-danger mar-3\" onClick={() => $this.deletePost(post._id)}>\r\n                  <i className=\"fa fa-trash\" aria-hidden=\"true\"></i> Xóa\r\n              </button>\r\n          </td>                   \r\n        </tr>\r\n      });\r\n    }\r\n    changeKeyword(e){\r\n      $this.setState({\r\n        keyword : e.target.value\r\n      })\r\n      setTimeout(function(){\r\n        $this.getDats()\r\n      }, 500)\r\n    }\r\n    activePagination(page){\r\n      $this.setState({\r\n        page: page\r\n      });\r\n      this.getDats();\r\n    }\r\n    //show paginate\r\n    showPaginate(){\r\n      //return 'ok';\r\n      let obj = [];\r\n      for (let index = 1; index <= $this.state.pages; index++) {\r\n        obj.push({p:index});\r\n      }\r\n      // return obj.map(function(index, i){\r\n      //   return <PaginationItem><PaginationLink onClick={() => $this.activePagination(index.p)} tag=\"button\" data-id={parseInt(i)+parseInt(1)}>{parseInt(i)+parseInt(1)}</PaginationLink></PaginationItem>\r\n      // });\r\n      return obj.map((post, index) => \r\n        <PaginationItem><PaginationLink onClick={() => $this.activePagination(post.p)} tag=\"button\" data-id={parseInt(index)+parseInt(1)}>{parseInt(index)+parseInt(1)}</PaginationLink></PaginationItem>\r\n      );\r\n    }\r\n  render() {\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <CardHeader>\r\n                <i className=\"fa fa-align-justify\"></i> Danh sách danh mục\r\n                <Link to=\"/catproduct/create\"><button className=\"btn btn-sm btn-success flor\"><i className=\"fa fa-plus\" aria-hidden=\"true\"></i> Thêm</button></Link>\r\n              </CardHeader>\r\n              <div className=\"h15\"></div>\r\n              <div>\r\n                <div className=\"col-sm-4\" className=\"col-sm-3 flol\">\r\n                    <input type=\"text\" onBlur={this.changeKeyword} className=\"form-control\" placeholder=\"Tên danh mục hoặc mô tả\"/>\r\n                </div>\r\n              </div>\r\n              <CardBody>\r\n                <Table hover bordered striped responsive size=\"sm\">\r\n                  <thead>\r\n                  <tr>\r\n                    <th>Ảnh</th>\r\n                    <th>Tên</th>\r\n                    <th>Danh mục</th>\r\n                    <th>Hiển thị</th>\r\n                    <th>Hành động</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {this.tabRows()}\r\n                  </tbody>\r\n                </Table>\r\n                <nav>\r\n                  <Pagination>\r\n                    {this.showPaginate()}\r\n                  </Pagination>\r\n                </nav>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Index;\r\n"],"sourceRoot":""}