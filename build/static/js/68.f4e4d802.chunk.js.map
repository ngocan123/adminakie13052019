{"version":3,"sources":["config/axioConfig.js","views/Supplier/Edit.js"],"names":["axios__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","axioApi","n","axios","create","baseURL","timeout","withCredentials","$this","Create","props","_this","Object","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","changeParentId","selectedparentId","setState","parent_id","toggle","bind","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","toggleFade","togglePrimary","state","collapse","fadeIn","primary","modal","name","description","tags","alltags","author","imagePath","selectedFile","_id","gallerys","title_seo","description_seo","keyword_seo","prevState","showAllImage","e","target","value","get","match","params","id","then","res","data","imageNumber","getAllImage","postdata","post","history","push","console","log","path","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","src","map","i","reactstrap__WEBPACK_IMPORTED_MODULE_7__","xs","sm","color","data-path","data-id","onClick","getIdImage","reactstrap__WEBPACK_IMPORTED_MODULE_8__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","savePost","reactstrap__WEBPACK_IMPORTED_MODULE_12__","htmlFor","reactstrap__WEBPACK_IMPORTED_MODULE_13__","type","onChange","changeName","placeholder","required","reactstrap__WEBPACK_IMPORTED_MODULE_14__","imageNumbers","changeDescription","rows","changeTitle_seo","changeDescription_seo","changeKeyword_seo","reactstrap__WEBPACK_IMPORTED_MODULE_15__","isOpen","reactstrap__WEBPACK_IMPORTED_MODULE_16__","onChangeHandler","reactstrap__WEBPACK_IMPORTED_MODULE_17__","reactstrap__WEBPACK_IMPORTED_MODULE_18__","Component"],"mappings":"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","file":"static/js/68.f4e4d802.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst axioApi = axios.create({  \r\n        baseURL: 'http://localhost:3008/',\r\n        //baseURL: 'https://mern-stack-course.herokuapp.com/api/',  // let our base uri is server uri\r\n        //baseURL: 'https://jsonplaceholder.typicode.com/',\r\n        timeout: 10000,\r\n        withCredentials: true,\r\n        //transformRequest: [(data) => JSON.stringify(data.data)],\r\n        // headers: {\r\n        // \t'Accept': 'application/json',\r\n        // \t'Content-Type': 'application/json',\r\n        // }\r\n});\r\nexport default axioApi","import React, { Component } from 'react';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Col,\r\n  Input,\r\n  Label,\r\n  Row,\r\n  Button, Modal, ModalBody, ModalFooter, ModalHeader,\r\n} from 'reactstrap';\r\nimport axioApi from './../../config/axioConfig';\r\nimport qs from 'qs';\r\nimport CreatableSelect from 'react-select/lib/Creatable';\r\n\r\nlet $this;\r\nclass Create extends Component {\r\n  constructor(props) {\r\n      super(props); \r\n      this.toggle = this.toggle.bind(this);\r\n      this.toggleFade = this.toggleFade.bind(this);\r\n      this.toggle = this.toggle.bind(this);\r\n      this.togglePrimary = this.togglePrimary.bind(this);\r\n      this.state = {\r\n        collapse: true,\r\n        fadeIn: true,\r\n        timeout: 300,\r\n        primary: false,\r\n        modal: false,\r\n        name : '', description : '', tags : [], alltags : [], \r\n        author : '', imagePath: '', selectedFile: null,\r\n        _id: null,\r\n        gallerys: [],\r\n        parent_id: 0,\r\n        title_seo: '',\r\n        description_seo: '',\r\n        keyword_seo: '',\r\n      };\r\n      $this = this;\r\n  }\r\n\r\n  toggle() {\r\n    $this.setState({ collapse: !$this.state.collapse });\r\n  }\r\n\r\n  toggleFade() {\r\n    $this.setState((prevState) => { return { fadeIn: !prevState }});\r\n  }\r\n  //Hien thi modal primary\r\n  togglePrimary() {\r\n    this.showAllImage();\r\n    this.setState({\r\n      primary: !this.state.primary,\r\n    });\r\n  }\r\n  //setup send data to serve\r\nchangeName(e){\r\n    $this.setState({ name : e.target.value });\r\n}\r\nchangeDescription(e){\r\n  $this.setState({ description : e.target.value });\r\n}\r\nchangeParentId = (selectedparentId) => {\r\n    $this.setState({ parent_id : selectedparentId });\r\n}\r\nchangeTitle_seo(e) {\r\n  $this.setState({ title_seo : e.target.value });\r\n}\r\nchangeDescription_seo(e) {\r\n  $this.setState({ description_seo : e.target.value });\r\n}\r\nchangeKeyword_seo(e) {\r\n  $this.setState({ keyword_seo : e.target.value });\r\n}\r\ncomponentDidMount(){\r\n  axioApi.get('/api/supplier/show/'+$this.props.match.params.id).then((res) => {\r\n      $this.setState({\r\n          _id: res.data._id,\r\n          name: res.data.name,\r\n          description: res.data.description,\r\n          parent_id: res.data.parent_id,\r\n          imagePath: res.data.imagePath,\r\n          imageNumber: res.data.imageNumber,\r\n          title_seo: res.data.title_seo,\r\n          description_seo: res.data.description_seo,\r\n          keyword_seo: res.data.keyword_seo,\r\n      });\r\n  });\r\n  this.showAllImage();\r\n  this.getAllImage();\r\n}\r\nsavePost(){\r\n  var postdata = {\r\n    name: $this.state.name,\r\n    description: $this.state.description,\r\n    parent_id: $this.state.parent_id,\r\n    imageNumber: $this.state.imageNumber,\r\n    imagePath: $this.state.imagePath,\r\n    title_seo: $this.state.title_seo,\r\n    description_seo: $this.state.description_seo,\r\n    keyword_seo: $this.state.keyword_seo,\r\n  }\r\n  axioApi.post('/api/supplier/update/'+$this.state._id,postdata).then((res) => {\r\n    $this.props.history.push('/supplier/index');\r\n  });\r\n}\r\n//upload image\r\ngetAllImage(){\r\n  axioApi.get('/api/gallery/getAll').then((res) => {\r\n      $this.setState({\r\n          gallerys : res.data\r\n      });\r\n  });\r\n}\r\ngetIdImage(id){\r\n  axioApi.get('/api/gallery/show/'+id).then((res) => {\r\n    console.log(res.data);\r\n    $this.setState({\r\n      imageNumber: res.data._id,\r\n      imagePath: res.data.path\r\n    });\r\n  });\r\n}\r\nimageNumbers(){\r\n  if($this.state.imageNumber!=''){\r\n    return <input name='imageNumber' className=\"hidden\" value={$this.state.imageNumber}/>;\r\n  }else{\r\n    return '';\r\n  }\r\n}\r\nimagePath(){\r\n  if($this.state.imagePath!=''){\r\n    return <img src={\"http://localhost:3008/\"+$this.state.imagePath}/>;\r\n  }else{\r\n    return '';\r\n  }\r\n}\r\nshowAllImage(){\r\n  return $this.state.gallerys.map(function(post, i){\r\n      return <Col xs=\"6\" sm=\"3\" className=\"text-center flol\">\r\n      <div color=\"divItemImage warning\">\r\n        <img className=\"img100\" src={'http://localhost:3008'+post.path} data-path={post.path} data-id={post._id}\r\n         onClick={(e) => $this.getIdImage(post._id)}/>\r\n      </div>\r\n      <div className=\"clearfix\"></div>\r\n      <Label>{post.name}</Label>\r\n    </Col>\r\n  });\r\n}\r\nrender() {\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col xs=\"12\" sm=\"12\">\r\n            <Card>\r\n              <CardHeader>\r\n                <strong>Thêm danh mục</strong>\r\n                <button onClick={this.savePost} className=\"btn btn-sm btn-primary flor\">Cập nhật</button>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <div className=\"form-group\">\r\n                  <Label htmlFor=\"name\"><strong>Tên danh mục</strong></Label>\r\n                  <Input type=\"text\" value={$this.state.name} onChange={this.changeName} id=\"name\" placeholder=\"Tên danh mục\" required />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <Label htmlFor=\"image\"><strong>Ảnh đại diện</strong></Label>\r\n                    <div>\r\n                      <Button color=\"primary\" onClick={this.togglePrimary} className=\"mr-1\">Chọn ảnh</Button>\r\n                      <div className=\"showImage\">{this.imagePath()}{this.imageNumbers()}\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <Label htmlFor=\"description\"><strong>Mô tả</strong></Label>\r\n                  <Input type=\"textarea\" value={$this.state.description} onChange={this.changeDescription} name=\"description\" id=\"description\"\r\n                        placeholder=\"Mô tả\" rows=\"3\"/>\r\n                </div>\r\n                <hr></hr>\r\n                <div className=\"form-group\">\r\n                  <Label htmlFor=\"title_seo\"><strong>Tiêu đề seo</strong></Label>\r\n                  <Input type=\"text\" value={$this.state.title_seo} onChange={this.changeTitle_seo} id=\"title_seo\" placeholder=\"Tiêu đề seo\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <Label htmlFor=\"description_seo\"><strong>Mô tả seo</strong></Label>\r\n                  <Input type=\"textarea\" value={$this.state.description_seo} onChange={this.changeDescription_seo} name=\"description_seo\" id=\"description_seo\"\r\n                        placeholder=\"Mô tả seo\" rows=\"3\"/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <Label htmlFor=\"keyword_seo\"><strong>Từ khóa seo</strong></Label>\r\n                  <Input type=\"textarea\" value={$this.state.keyword_seo} onChange={this.changeKeyword_seo} name=\"keyword_seo\" id=\"keyword_seo\"\r\n                        placeholder=\"Từ khóa seo\" rows=\"3\"/>\r\n                </div>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Modal isOpen={this.state.primary} toggle={this.togglePrimary}\r\n              className={'modal-primary modal-lg ' + this.props.className}>\r\n        <ModalHeader toggle={this.togglePrimary}>\r\n          <button className=\"buttonUploadImage\">\r\n            Tải ảnh\r\n            <input type=\"file\" name=\"file\" onChange={this.onChangeHandler}/>\r\n          </button>\r\n          \r\n        </ModalHeader>\r\n        <ModalBody>\r\n         {this.showAllImage()}\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"primary\" onClick={this.togglePrimary}>Cập nhật</Button>\r\n          <Button color=\"secondary\" onClick={this.togglePrimary}>Bỏ qua</Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Create;\r\n"],"sourceRoot":""}