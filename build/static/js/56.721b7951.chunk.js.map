{"version":3,"sources":["config/axioConfig.js","views/CatProduct/Create.js"],"names":["axios__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","axioApi","n","axios","create","baseURL","timeout","withCredentials","$this","Create","props","_this","Object","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","changeParentId","selectedparentId","setState","parent_id","toggle","bind","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","toggleFade","togglePrimary","state","collapse","fadeIn","primary","modal","name","description","tags","alltags","author","imagePath","selectedFile","gallerys","title_seo","description_seo","keyword_seo","prevState","showAllImage","e","target","value","getAllImage","postdata","imageNumber","post","then","res","history","push","get","console","log","data","id","_id","path","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","src","map","i","reactstrap__WEBPACK_IMPORTED_MODULE_7__","xs","sm","color","data-id","onDoubleClick","getIdImage","reactstrap__WEBPACK_IMPORTED_MODULE_8__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","onClick","savePost","reactstrap__WEBPACK_IMPORTED_MODULE_12__","htmlFor","reactstrap__WEBPACK_IMPORTED_MODULE_13__","type","onChange","changeName","placeholder","required","reactstrap__WEBPACK_IMPORTED_MODULE_14__","imageNumbers","changeDescription","rows","changeTitle_seo","changeDescription_seo","changeKeyword_seo","reactstrap__WEBPACK_IMPORTED_MODULE_15__","isOpen","reactstrap__WEBPACK_IMPORTED_MODULE_16__","onChangeHandler","reactstrap__WEBPACK_IMPORTED_MODULE_17__","reactstrap__WEBPACK_IMPORTED_MODULE_18__","Component"],"mappings":"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","file":"static/js/56.721b7951.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst axioApi = axios.create({  \r\n        baseURL: 'http://localhost:3008/api/',\r\n        //baseURL: 'https://mern-stack-course.herokuapp.com/api/',  // let our base uri is server uri\r\n        //baseURL: 'https://jsonplaceholder.typicode.com/',\r\n        timeout: 10000,\r\n        withCredentials: true,\r\n        //transformRequest: [(data) => JSON.stringify(data.data)],\r\n        // headers: {\r\n        // \t'Accept': 'application/json',\r\n        // \t'Content-Type': 'application/json',\r\n        // }\r\n});\r\nexport default axioApi","import React, { Component } from 'react';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Col,\r\n  Input,\r\n  Label,\r\n  Row,\r\n  Button, Modal, ModalBody, ModalFooter, ModalHeader,\r\n} from 'reactstrap';\r\nimport axioApi from './../../config/axioConfig';\r\nimport qs from 'qs';\r\nimport CreatableSelect from 'react-select/lib/Creatable';\r\n\r\nlet $this;\r\nclass Create extends Component {\r\n  constructor(props) {\r\n      super(props); \r\n      this.toggle = this.toggle.bind(this);\r\n      this.toggleFade = this.toggleFade.bind(this);\r\n      this.toggle = this.toggle.bind(this);\r\n      this.togglePrimary = this.togglePrimary.bind(this);\r\n      this.state = {\r\n        collapse: true,\r\n        fadeIn: true,\r\n        timeout: 300,\r\n        primary: false,\r\n        modal: false,\r\n        name : '', description : '', tags : [], alltags : [], \r\n        author : '', imagePath: '', selectedFile: null,\r\n        gallerys: [],\r\n        parent_id: 0,\r\n        title_seo: '',\r\n        description_seo: '',\r\n        keyword_seo: '',\r\n      };\r\n      $this = this;\r\n  }\r\n\r\n  toggle() {\r\n    $this.setState({ collapse: !$this.state.collapse });\r\n  }\r\n\r\n  toggleFade() {\r\n    $this.setState((prevState) => { return { fadeIn: !prevState }});\r\n  }\r\n  //Hien thi modal primary\r\n  togglePrimary() {\r\n    this.showAllImage();\r\n    this.setState({\r\n      primary: !this.state.primary,\r\n    });\r\n  }\r\n  //setup send data to serve\r\nchangeName(e){\r\n    $this.setState({ name : e.target.value });\r\n}\r\nchangeDescription(e){\r\n  $this.setState({ description : e.target.value });\r\n}\r\nchangeParentId = (selectedparentId) => {\r\n    $this.setState({ parent_id : selectedparentId });\r\n}\r\nchangeTitle_seo(e) {\r\n  $this.setState({ title_seo : e.target.value });\r\n}\r\nchangeDescription_seo(e) {\r\n  $this.setState({ description_seo : e.target.value });\r\n}\r\nchangeKeyword_seo(e) {\r\n  $this.setState({ keyword_seo : e.target.value });\r\n}\r\ncomponentDidMount(){\r\n  this.showAllImage();\r\n  this.getAllImage();\r\n}\r\nsavePost(){\r\n  var postdata = {\r\n    name: $this.state.name,\r\n    description: $this.state.description,\r\n    parent_id: $this.state.parent_id,\r\n    imageNumber: $this.state.imageNumber,\r\n    imagePath: $this.state.imagePath,\r\n    title_seo: $this.state.title_seo,\r\n    description_seo: $this.state.description_seo,\r\n    keyword_seo: $this.state.keyword_seo,\r\n  }\r\n  axioApi.post('/catproduct/store',postdata).then((res) => {\r\n    $this.props.history.push('/catproduct/index');\r\n  });\r\n}\r\n//upload image\r\ngetAllImage(){\r\n  axioApi.get('/gallery/getAll').then((res) => {\r\n    console.log(res.data);\r\n      $this.setState({\r\n          gallerys : res.data\r\n      });\r\n  });\r\n}\r\ngetIdImage(id){\r\n  axioApi.get('/gallery/show/'+id).then((res) => {\r\n    console.log(res.data);\r\n    $this.setState({\r\n      imageNumber: res.data._id,\r\n      imagePath: res.data.path\r\n    });\r\n  });\r\n}\r\nimageNumbers(){\r\n  if($this.state.imageNumber!=''){\r\n    return <input name='imageNumber' className=\"hidden\" value={$this.state.imageNumber}/>;\r\n  }else{\r\n    return '';\r\n  }\r\n}\r\nimagePath(){\r\n  if($this.state.imagePath!=''){\r\n    return <img src={\"https://ai-shop2.herokuapp.com\"+$this.state.imagePath}/>;\r\n  }else{\r\n    return '';\r\n  }\r\n}\r\nshowAllImage(){\r\n  return $this.state.gallerys.map(function(post, i){\r\n      return <Col xs=\"6\" sm=\"3\" className=\"text-center flol\">\r\n      <div color=\"divItemImage warning\">\r\n        <img className=\"img100\" src={'https://ai-shop2.herokuapp.com'+post.path} data-id={post._id}\r\n         onDoubleClick={() => $this.getIdImage(post._id)}/>\r\n      </div>\r\n      <div className=\"clearfix\"></div>\r\n      <Label>giay</Label>\r\n    </Col>\r\n  });\r\n}\r\nrender() {\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col xs=\"12\" sm=\"12\">\r\n            <Card>\r\n              <CardHeader>\r\n                <strong>Thêm danh mục</strong>\r\n                <button onClick={this.savePost} className=\"btn btn-sm btn-primary flor\">Cập nhật</button>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <div className=\"form-group\">\r\n                  <Label htmlFor=\"name\"><strong>Tên danh mục</strong></Label>\r\n                  <Input type=\"text\" onChange={this.changeName} id=\"name\" placeholder=\"Tên danh mục\" required />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <Label htmlFor=\"description\">Ảnh đại diện</Label>\r\n                    <div>\r\n                      <Button color=\"primary\" onClick={this.togglePrimary} className=\"mr-1\">Chọn ảnh</Button>\r\n                      <div className=\"showImage\">{this.imagePath()}{this.imageNumbers()}\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <Label htmlFor=\"description\"><strong>Mô tả</strong></Label>\r\n                  <Input type=\"textarea\" onChange={this.changeDescription} name=\"description\" id=\"description\"\r\n                        placeholder=\"Mô tả\" rows=\"3\"/>\r\n                </div>\r\n                <hr></hr>\r\n                <div className=\"form-group\">\r\n                  <Label htmlFor=\"title_seo\"><strong>Tiêu đề seo</strong></Label>\r\n                  <Input type=\"text\" onChange={this.changeTitle_seo} id=\"title_seo\" placeholder=\"Tiêu đề seo\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <Label htmlFor=\"description_seo\"><strong>Mô tả seo</strong></Label>\r\n                  <Input type=\"textarea\" onChange={this.changeDescription_seo} name=\"description_seo\" id=\"description_seo\"\r\n                        placeholder=\"Mô tả seo\" rows=\"3\"/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <Label htmlFor=\"description_seo\"><strong>Từ khóa seo</strong></Label>\r\n                  <Input type=\"textarea\" onChange={this.changeKeyword_seo} name=\"keyword_seo\" id=\"keyword_seo\"\r\n                        placeholder=\"Từ khóa seo\" rows=\"3\"/>\r\n                </div>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n\r\n\r\n        <Modal isOpen={this.state.primary} toggle={this.togglePrimary}\r\n                className={'modal-primary modal-lg ' + this.props.className}>\r\n          <ModalHeader toggle={this.togglePrimary}>\r\n            <button className=\"buttonUploadImage\">\r\n              Tải ảnh\r\n              <input type=\"file\" name=\"file\" onChange={this.onChangeHandler}/>\r\n            </button>\r\n            \r\n          </ModalHeader>\r\n          <ModalBody>\r\n           {this.showAllImage()}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"primary\" onClick={this.togglePrimary}>Cập nhật</Button>\r\n            <Button color=\"secondary\" onClick={this.togglePrimary}>Bỏ qua</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Create;\r\n"],"sourceRoot":""}