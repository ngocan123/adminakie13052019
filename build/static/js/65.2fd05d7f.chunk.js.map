{"version":3,"sources":["config/axioConfig.js","views/Product/Index.js"],"names":["axios__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","axioApi","n","axios","create","baseURL","timeout","withCredentials","$this","IndexProduct","props","_this","Object","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","state","posts","author","page","current","pages","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","getDats","document","addEventListener","trackScrolling","_this2","filter","keyword","get","qs","stringify","then","res","setState","data","showPaginate","id","post","_id","map","i","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","Postlist","e","target","value","setTimeout","obj","index","push","p","reactstrap__WEBPACK_IMPORTED_MODULE_8__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","onClick","activePagination","tag","data-id","parseInt","className","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","reactstrap__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","react_router_dom__WEBPACK_IMPORTED_MODULE_18__","to","aria-hidden","C_reactjs_react9_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","type","onBlur","changeKeyword","placeholder","reactstrap__WEBPACK_IMPORTED_MODULE_14__","reactstrap__WEBPACK_IMPORTED_MODULE_15__","hover","bordered","striped","responsive","size","tabRows","reactstrap__WEBPACK_IMPORTED_MODULE_16__","Component","_this3","src","imagePath","name","description","email","deletePost"],"mappings":"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","file":"static/js/65.2fd05d7f.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst axioApi = axios.create({  \r\n        baseURL: 'http://localhost:3008/',\r\n        //baseURL: 'https://mern-stack-course.herokuapp.com/api/',  // let our base uri is server uri\r\n        //baseURL: 'https://jsonplaceholder.typicode.com/',\r\n        timeout: 10000,\r\n        withCredentials: true,\r\n        //transformRequest: [(data) => JSON.stringify(data.data)],\r\n        // headers: {\r\n        // \t'Accept': 'application/json',\r\n        // \t'Content-Type': 'application/json',\r\n        // }\r\n});\r\nexport default axioApi","import React, { Component } from 'react';\r\nimport { Card, CardBody, CardHeader, Col, Pagination, PaginationItem, PaginationLink, Row, Table } from 'reactstrap';\r\nimport axioApi from './../../config/axioConfig';\r\nimport { Link } from 'react-router-dom';\r\nimport qs from 'qs';\r\n\r\n// const mapStateToProps = state => {\r\n//     return{\r\n//         posts : state.postreducer.posts  // redux_step4 getting data from store and connect with view\r\n//     }\r\n// }\r\nlet $this;\r\nclass IndexProduct extends Component {\r\n    constructor(props){\r\n\t\t  super(props);\r\n      this.state = {'posts' : [], author : '', 'page': 1, 'current': 1, 'pages': 1,}\r\n      $this = this; \r\n    }\r\n    componentDidMount(){\r\n      // setTimeout(function(){\r\n      //   axioApi.get('/auth/checkToken').then((res) => {\r\n      //       $this.setState({\r\n      //           author: res.data.id\r\n      //       });\r\n      //   }).catch((err) => {\r\n      //       $this.props.history.push('/login');\r\n      //   });\r\n      // }, 1500);\r\n      \r\n      this.getDats();\r\n      document.addEventListener('scroll',this.trackScrolling)\r\n    }\r\n    \r\n    getDats(){\r\n        const filter = {\r\n          keyword: $this.state.keyword,\r\n          page: $this.state.page\r\n        };\r\n        // axioApi.get('product/list?'+qs.stringify(filter)).then((res) => {\r\n        //     $this.setState({ 'posts' : res.data });\r\n        // });\r\n        axioApi.get('/api/product/list?'+qs.stringify(filter)).then((res) => {\r\n          //console.log(res.data)\r\n          $this.setState({\r\n            posts: res.data.posts,\r\n            current: res.data.current,\r\n            pages: res.data.pages,\r\n          })\r\n          this.showPaginate();\r\n          ///console.log($this.state.pages);\r\n        });\r\n    }\r\n    deletePost(id){\r\n        axioApi.post('/api/product/remove', {_id : id}).then((res) => {\r\n            $this.getDats()\r\n        });\r\n    }\r\n    tabRows(){\r\n      return $this.state.posts.map(function(post, i){\r\n          return <Postlist post={post}/>\r\n      });\r\n    }\r\n    changeKeyword(e){\r\n      $this.setState({\r\n        keyword : e.target.value\r\n      })\r\n      setTimeout(function(){\r\n        $this.getDats()\r\n      }, 500)\r\n    }\r\n    activePagination(page){\r\n      $this.setState({\r\n        page: page\r\n      });\r\n      //console.log($this.state.page);\r\n      this.getDats();\r\n    }\r\n    //show paginate\r\n    showPaginate(){\r\n      let obj = [];\r\n      //console.log($this.state.pages);\r\n      for (let index = 1; index <= $this.state.pages; index++) {\r\n        //varrindex[index] = index\r\n        obj.push({p:index});\r\n      }\r\n      //console.log(obj);\r\n      return obj.map(function(index, i){\r\n        return <PaginationItem><PaginationLink onClick={() => $this.activePagination(index.p)} tag=\"button\" data-id={parseInt(i)+parseInt(1)}>{parseInt(i)+parseInt(1)}</PaginationLink></PaginationItem>\r\n      });\r\n    }\r\n  render() {\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <CardHeader>\r\n                <i className=\"fa fa-align-justify\"></i> Danh sách sản phẩm\r\n                <Link to=\"/product/create\"><button className=\"btn btn-sm btn-success flor\"><i className=\"fa fa-plus\" aria-hidden=\"true\"></i> Thêm</button></Link>\r\n              </CardHeader>\r\n              <div className=\"h15\"></div>\r\n              <div>\r\n                <div className=\"col-sm-4\" className=\"col-sm-3 flol\">\r\n                    <input type=\"text\" onBlur={this.changeKeyword} className=\"form-control\" placeholder=\"Tên sản phẩm\"/>\r\n                </div>\r\n              </div>\r\n              <CardBody>\r\n                <Table hover bordered striped responsive size=\"sm\">\r\n                  <thead>\r\n                  <tr>\r\n                    <th>Ảnh</th>\r\n                    <th>Tên</th>\r\n                    <th>Danh mục</th>\r\n                    <th>Hiển thị</th>\r\n                    <th>Hành động</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {this.tabRows()}\r\n                  </tbody>\r\n                </Table>\r\n                <nav>\r\n                  <Pagination>\r\n                    {this.showPaginate()}\r\n                  </Pagination>\r\n                </nav>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default IndexProduct;\r\n\r\nclass Postlist extends Component{\r\n  constructor(props){\r\n    super(props)\r\n\r\n  }\r\n  render(){\r\n    return <tr>\r\n        <td className=\"text-center wtd100\"><img className=\"w8\" src={'http://localhost:3008'+ this.props.post.imagePath}/></td>\r\n        <td>{this.props.post.name}</td>\r\n        <td>{this.props.post.description}</td>\r\n        <td>{(this.props.post.author)? this.props.post.author.email : ''}</td>\r\n        <td className=\"text-center\">\r\n            <Link to={\"/product/edit/\"+this.props.post._id}>\r\n                <button className=\"btn btn-sm btn-warning mar-3\"><i className=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i> Sửa</button>\r\n            </Link>\r\n            <button className=\"btn btn-sm btn-danger mar-3\" onClick={() => $this.deletePost(this.props.post._id)}>\r\n                <i className=\"fa fa-trash\" aria-hidden=\"true\"></i> Xóa\r\n            </button>\r\n        </td>                   \r\n      </tr>; \r\n  }\r\n}\r\n"],"sourceRoot":""}